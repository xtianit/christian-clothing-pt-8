<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Real Christian Clothing - Part 8</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="./script.js" defer></script>
        <style>
            /* Loading Animation */
            .loader {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: #fff;
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 9999;
            }

            .loader-content {
                text-align: center;
                animation: pulse 1.5s infinite;
            }

            @keyframes pulse {
                0% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.1);
                }
                100% {
                    transform: scale(1);
                }
            }

            /* Main Styles */
            :root {
                --primary-color: #3498db;
                --secondary-color: #2ecc71;
                --dark-mode-bg: #2c3e50;
                --dark-mode-text: #ecf0f1;
                --font-scale: 100%;
                --font-size: 16px;
            }

            body {
                margin: 0;
                font-family: "Segoe UI", sans-serif;
                transition: background-color 0.3s, color 0.3s;
            }

            body.dark-mode {
                background-color: var(--dark-mode-bg);
                color: var(--dark-mode-text);
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
            }

            /* Tab Navigation */
            .tabs {
                display: flex;
                overflow-x: auto;
                margin-bottom: 20px;
                background: #f8f9fa;
                border-radius: 10px;
                padding: 10px;
                white-space: nowrap;
                -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
                scrollbar-width: none; /* Hide scrollbar Firefox */
                -ms-overflow-style: none; /* Hide scrollbar IE/Edge */
            }

            /* Hide scrollbar for Chrome/Safari */
            .tabs::-webkit-scrollbar {
                display: none;
            }

            .tab-btn {
                padding: 10px 20px;
                border: none;
                background: none;
                cursor: pointer;
                font-size: 16px;
                white-space: nowrap;
                transition: all 0.3s;
                flex: 0 0 auto; /* Prevent buttons from shrinking */
                margin: 0 5px;
            }

            .tab-btn:first-child {
                margin-left: 0;
            }

            .tab-btn:last-child {
                margin-right: 0;
            }

            .tab-btn.active {
                background: var(--primary-color);
                color: white;
                border-radius: 5px;
            }

            /* Responsive Design */
            @media (max-width: 768px) {
                .container {
                    padding: 15px;
                }

                .tabs {
                    padding: 8px;
                    margin-bottom: 15px;
                }

                .tab-btn {
                    padding: 8px 16px;
                    font-size: 14px;
                }

                /* Improve touch targets */
                .tab-btn {
                    min-height: 44px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
            }

            /* Add subtle indicators for scroll */
            .tabs::after {
                content: "";
                position: absolute;
                right: 0;
                top: 0;
                bottom: 0;
                width: 30px;
                background: linear-gradient(
                    to right,
                    transparent,
                    rgba(248, 249, 250, 0.9)
                );
                pointer-events: none;
            }

            .dark-mode .tabs::after {
                background: linear-gradient(
                    to right,
                    transparent,
                    rgba(52, 73, 94, 0.9)
                );
            }

            /* Content Sections */
            .tab-content {
                display: none;
                padding: 20px;
                background: white;
                border-radius: 10px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            }

            .tab-content.active {
                display: block;
                animation: fadeIn 0.5s;
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }

            /* Theme Toggle */
            .theme-toggle {
                position: fixed;
                top: 20px;
                right: 20px;
                width: 60px;
                height: 30px;
                border-radius: 15px;
                background: #485460;
                border: none;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                padding: 0 5px;
                box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
                z-index: 9999; /* Add this to ensure it stays on top */
            }

            /* Modal Styles */
            .modal {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.7);
                z-index: 1000;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .modal-content {
                background: white;
                margin: 10vh auto;
                padding: 20px;
                width: 70%;
                max-width: 700px;
                border-radius: 10px;
                position: relative;
                max-height: 80vh;
                overflow-y: auto;
            }

            .close {
                position: absolute;
                right: 20px;
                top: 10px;
                font-size: 28px;
                cursor: pointer;
            }

            /* Verse Button Styles */
            .verse-btn {
                background: var(--primary-color);
                color: white;
                border: none;
                padding: 8px 15px;
                border-radius: 5px;
                cursor: pointer;
                margin: 10px 0;
                transition: background 0.3s;
            }

            .verse-btn:hover {
                background: #2980b9;
            }

            /* Quiz Styles */
            .quiz-container {
                max-width: 800px;
                margin: 0 auto;
                padding: 0 15px;
                padding-top: 60px; /* Add this to create space for the theme toggle */
                box-sizing: border-box;
            }

            .question-grid {
                display: flex;
                flex-direction: column;
                gap: 2rem;
            }

            .question {
                background: #ffffff;
                border-radius: 12px;
                padding: 25px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                transition: all 0.3s ease;
                animation: fadeIn 0.5s ease-out;
            }

            .question p {
                font-size: 1.1rem;
                font-weight: 500;
                color: #2c3e50;
                margin-bottom: 1.5rem;
            }

            .options-matrix {
                display: grid;
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .option-box {
                position: relative;
                border: 2px solid #e9ecef;
                border-radius: 8px;
                transition: all 0.3s ease;
                overflow: hidden;
            }

            .option-box:hover {
                border-color: var(--primary-color);
                transform: translateY(-2px);
            }

            .option-box input[type="radio"] {
                position: absolute;
                opacity: 0;
            }

            .option-box label {
                display: block;
                padding: 16px 20px;
                cursor: pointer;
                font-size: 1rem;
                transition: all 0.3s ease;
                background: #f8f9fa;
                margin: 0;
            }

            .option-box input[type="radio"]:checked + label {
                background: var(--primary-color);
                color: white;
            }

            .quiz-submit {
                margin-top: 2rem;
                padding: 12px 30px;
                background: var(--primary-color);
                color: white;
                border: none;
                border-radius: 8px;
                font-size: 1.1rem;
                cursor: pointer;
                transition: all 0.3s ease;
                display: block;
                margin-left: auto;
                margin-right: auto;
            }

            .quiz-submit:hover {
                background: #2980b9;
                transform: translateY(-2px);
            }

            /* Dark mode styles */
            .dark-mode .question {
                background: #34495e;
            }

            .dark-mode .question p {
                color: var(--dark-mode-text);
            }

            .dark-mode .option-box {
                border-color: #486581;
            }

            .dark-mode .option-box label {
                background: #2c3e50;
                color: var(--dark-mode-text);
            }

            .dark-mode .option-box:hover {
                border-color: var(--primary-color);
            }

            .dark-mode .option-box input[type="radio"]:checked + label {
                background: var(--primary-color);
            }

            /* Mobile Responsive */
            @media (max-width: 768px) {
                .quiz-container {
                    padding: 15px;
                }

                .question {
                    padding: 20px;
                }

                .options-matrix {
                    grid-template-columns: repeat(2, 1fr);
                    gap: 10px;
                }

                .option-box label {
                    padding: 12px 15px;
                    font-size: 0.9rem;
                    text-align: center;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    min-height: 60px;
                }
            }

            /* Animations */
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            /* Quiz Results Styling */
            #quiz-results {
                margin-top: 2rem;
                padding: 20px;
                border-radius: 8px;
                background: #f8f9fa;
                display: none;
            }

            .dark-mode #quiz-results {
                background: #2c3e50;
            }

            /* Reflection Styles */
            .reflection-notes {
                width: 100%;
                min-height: 150px;
                margin-top: 20px;
                padding: 10px;
                border: 1px solid #ddd;
                border-radius: 5px;
                resize: vertical;
            }

            /* Prayer Points Styles */
            .prayer-points ol {
                padding-left: 20px;
            }

            .prayer-points li {
                margin-bottom: 15px;
                line-height: 1.6;
            }

            /* Add to your existing style section */
            .verse-text {
                font-size: 1.1em;
                line-height: 1.6;
                padding: 15px;
                background: #f8f9fa;
                border-radius: 5px;
                margin: 15px 0;
            }

            .dark-mode .verse-text {
                background: #34495e;
            }

            /* Add inside your existing <style> tag, after the existing dark mode styles */

            /* Dark Mode Styles */
            .dark-mode {
                background-color: var(--dark-mode-bg);
                color: var(--dark-mode-text);
            }

            .dark-mode .tab-content {
                background: var(--dark-mode-bg);
                color: var(--dark-mode-text);
            }

            .dark-mode .tabs {
                background: #34495e;
            }

            .dark-mode .question {
                background: #34495e;
                color: var(--dark-mode-text);
            }

            .dark-mode .modal-content {
                background: var(--dark-mode-bg);
                color: var(--dark-mode-text);
            }

            .dark-mode .reflection-notes {
                background: #34495e;
                color: var(--dark-mode-text);
                border-color: #486581;
            }

            .dark-mode .verse-btn {
                background: #2980b9;
            }

            .dark-mode .verse-btn:hover {
                background: #3498db;
            }

            .dark-mode .close {
                color: var(--dark-mode-text);
            }

            .dark-mode .version-btn {
                color: var(--dark-mode-text);
            }

            .dark-mode .version-btn.active {
                background: #2980b9;
            }

            .dark-mode .quiz-submit {
                background: #27ae60;
            }

            .dark-mode .quiz-submit:hover {
                background: #2ecc71;
            }

            /* Add to the existing <style> section */
            .progress-container {
                margin: 20px 0;
                text-align: center;
            }

            .progress-bar {
                width: 100%;
                height: 10px;
                background: #eee;
                border-radius: 5px;
                margin: 10px 0;
                overflow: hidden;
            }

            .progress {
                width: 0%;
                height: 100%;
                background: var(--primary-color);
                transition: width 0.5s ease-in-out;
            }

            .progress-text {
                font-size: 14px;
                color: #666;
            }

            /* Interactive Elements */
            .interactive-element {
                transform: scale(1);
                transition: transform 0.2s;
            }

            .interactive-element:hover {
                transform: scale(1.02);
            }

            /* Floating Action Button */
            .fab {
                position: fixed;
                bottom: 20px;
                right: 20px;
                width: 56px;
                height: 56px;
                border-radius: 50%;
                background: var(--secondary-color);
                color: white;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
                cursor: pointer;
                transition: all 0.3s;
            }

            .fab:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            }

            /* Toast Notification */
            .toast {
                position: fixed;
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: #333;
                color: white;
                padding: 12px 24px;
                border-radius: 25px;
                opacity: 0;
                transition: opacity 0.3s;
                z-index: 1000;
            }

            /* Add animation classes */
            .question-container {
                opacity: 0;
                transform: translateY(20px);
                transition: all 0.5s;
            }

            .question-container.show {
                opacity: 1;
                transform: translateY(0);
            }

            .dark-mode .toast {
                background: #ecf0f1;
                color: #2c3e50;
            }

            .scripture-list li {
                margin-bottom: 1.5em;
                line-height: 1.6;
            }

            .verse-buttons {
                margin-top: 0.5em;
                display: flex;
                gap: 0.5em;
                flex-wrap: wrap;
            }

            .verse-buttons .verse-btn {
                font-size: 0.9em;
                padding: 6px 12px;
                background: var(--primary-color);
                color: white;
                border: none;
                border-radius: 15px;
                cursor: pointer;
                transition: all 0.3s;
            }

            .verse-buttons .verse-btn:hover {
                background: #2980b9;
                transform: translateY(-2px);
            }

            .dark-mode .verse-buttons .verse-btn {
                background: #34495e;
            }

            .dark-mode .verse-buttons .verse-btn:hover {
                background: #2c3e50;
            }

            @media (max-width: 768px) {
                .verse-buttons {
                    flex-direction: row;
                }

                .verse-buttons .verse-btn {
                    font-size: 0.8em;
                    padding: 8px 16px;
                }
            }

            /* Add to your existing <style> section */

            .version-tab {
                display: flex;
                flex-direction: row;
                justify-content: flex-start;
                align-items: center;
                gap: 8px;
                margin-bottom: 15px;
                overflow-x: auto;
                padding: 5px;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                -ms-overflow-style: none;
            }

            .version-tab::-webkit-scrollbar {
                display: none;
            }

            .version-btn {
                padding: 8px 16px;
                border: none;
                background: #f8f9fa;
                border-radius: 20px;
                cursor: pointer;
                transition: all 0.3s;
                flex: 0 0 auto;
                font-weight: 500;
            }

            .version-btn.active {
                background: var(--primary-color);
                color: white;
            }

            /* Add scroll indicator */
            .version-tab::after {
                content: "";
                position: absolute;
                right: 0;
                top: 0;
                bottom: 0;
                width: 30px;
                background: linear-gradient(
                    to right,
                    transparent,
                    rgba(255, 255, 255, 0.9)
                );
                pointer-events: none;
            }

            .dark-mode .version-tab::after {
                background: linear-gradient(
                    to right,
                    transparent,
                    rgba(44, 62, 80, 0.9)
                );
            }

            @media (max-width: 768px) {
                .version-btn {
                    padding: 8px 14px;
                    font-size: 14px;
                }
            }

            .verse-loader {
                display: flex;
                justify-content: center;
                align-items: center;
                padding: 20px;
            }

            .verse-loader i {
                animation: rotate 1s infinite linear;
                color: var(--primary-color);
            }

            @keyframes rotate {
                from {
                    transform: rotate(0deg);
                }
                to {
                    transform: rotate(360deg);
                }
            }

            .verse-text {
                opacity: 0;
                transition: opacity 0.3s ease-in-out;
            } /* Update the version button styles */
            .version-btn {
                padding: 8px 16px;
                border: none;
                background: #f8f9fa;
                border-radius: 20px;
                cursor: pointer;
                transition: all 0.3s;
                flex: 0 0 auto;
                font-weight: 500;
                color: #333;
            }

            .version-btn.active {
                background: var(--primary-color);
                color: white;
            }

            /* Add dark mode styles for version buttons */
            .dark-mode .version-btn {
                background: #34495e;
                color: var(--dark-mode-text);
            }

            .dark-mode .version-btn:hover {
                background: #2c3e50;
            }

            .dark-mode .version-btn.active {
                background: var(--primary-color);
                color: white;
            }

            /* Update modal content background in dark mode */
            .dark-mode .version-tab {
                background: transparent;
            } /* Update the version button styles */
            .version-btn {
                padding: 8px 16px;
                border: none;
                background: #f8f9fa;
                border-radius: 20px;
                cursor: pointer;
                transition: all 0.3s;
                flex: 0 0 auto;
                font-weight: 500;
                color: #333;
            }

            .version-btn.active {
                background: var(--primary-color);
                color: white;
            }

            /* Add dark mode styles for version buttons */
            .dark-mode .version-btn {
                background: #34495e;
                color: var(--dark-mode-text);
            }

            .dark-mode .version-btn:hover {
                background: #2c3e50;
            }

            .dark-mode .version-btn.active {
                background: var(--primary-color);
                color: white;
            }

            /* Update modal content background in dark mode */
            .dark-mode .version-tab {
                background: transparent;
            }

            .verse-text.show {
                opacity: 1;
            }

            /* Add these styles to your existing <style> section */
            .theme-toggle {
                position: fixed;
                top: 20px;
                right: 20px;
                width: 60px;
                height: 30px;
                border-radius: 15px;
                background: #485460;
                border: none;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                padding: 0 5px;
                box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
            }

            .theme-toggle::before {
                content: "";
                position: absolute;
                width: 24px;
                height: 24px;
                background: #fff;
                border-radius: 50%;
                left: 3px;
                transition: all 0.3s ease;
            }

            .theme-toggle i {
                position: absolute;
                right: 8px;
                color: #fff;
                font-size: 14px;
                transition: all 0.3s ease;
            }

            /* Dark mode styles for the switch */
            body.dark-mode .theme-toggle {
                background: var(--primary-color);
            }

            body.dark-mode .theme-toggle::before {
                left: 33px;
                background: #fff;
            }

            body.dark-mode .theme-toggle i {
                right: auto;
                left: 8px;
                color: #fff;
            }

            /* Add these styles to your existing <style> section */
            .font-controls {
                position: fixed;
                bottom: 20px;
                left: 20px;
                background: white;
                padding: 10px;
                border-radius: 10px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                display: flex;
                gap: 10px;
                z-index: 1000;
            }

            .font-controls button {
                background: var(--primary-color);
                color: white;
                border: none;
                padding: 8px 12px;
                border-radius: 5px;
                cursor: pointer;
                transition: all 0.3s;
            }

            .font-controls button:hover {
                background: #2980b9;
                transform: translateY(-2px);
            }

            .font-controls .font-size {
                display: inline-block;
                min-width: 30px;
                text-align: center;
            }

            /* Adjustable content styles */
            .adjustable-content {
                transition: all 0.3s ease;
            }

            /* Dark mode styles */
            .dark-mode .font-controls {
                background: var(--dark-mode-bg);
                color: var(--dark-mode-text);
            }

            /* Font family options */
            .font-family-select {
                padding: 5px;
                border-radius: 5px;
                border: 1px solid #ddd;
                background: white;
                color: #333;
            }

            .dark-mode .font-family-select {
                background: #34495e;
                color: var(--dark-mode-text);
                border-color: #486581;
            }

            /* Update or add these styles in your <style> section */

            .adjustable-content {
                font-size: calc(1em * var(--font-scale) / 100);
                transition: font-size 0.3s ease;
            }

            /* Make all text content adjustable */
            p,
            h1,
            h2,
            h3,
            h4,
            h5,
            h6,
            li,
            blockquote,
            label,
            button,
            input,
            textarea {
                font-size: calc(1em * var(--font-scale) / 100);
                transition: font-size 0.3s ease;
            }

            /* Add these styles for text scaling */
            .scalable-text {
                font-size: var(--font-size);
                transition: font-size 0.3s ease;
            }

            /* Apply scalable text to all text elements */
            p,
            h1,
            h2,
            h3,
            h4,
            h5,
            h6,
            li,
            blockquote,
            label,
            button,
            input,
            textarea,
            .tab-btn,
            .verse-text,
            .options label {
                font-size: var(--font-size);
            }

            /* Add to your existing modal styles in the <style> section */
            body.modal-open {
                overflow: hidden;
            }

            /* Add to your existing <style> section */
            .reflection-section {
                display: flex;
                flex-direction: column;
                gap: 2rem;
            }

            .interactive-cards {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 1.5rem;
            }

            .reflection-card {
                background: #fff;
                padding: 1.5rem;
                border-radius: 10px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                transition: transform 0.3s ease;
            }

            .reflection-card:hover {
                transform: translateY(-5px);
            }

            .love-meter {
                text-align: center;
            }

            .rating-container {
                margin: 1rem 0;
            }

            .love-slider {
                width: 100%;
                height: 10px;
                -webkit-appearance: none;
                background: #f0f0f0;
                border-radius: 5px;
                outline: none;
            }

            .love-slider::-webkit-slider-thumb {
                -webkit-appearance: none;
                width: 20px;
                height: 20px;
                background: var(--primary-color);
                border-radius: 50%;
                cursor: pointer;
            }

            .action-items {
                display: flex;
                flex-direction: column;
                gap: 0.8rem;
            }

            .action-item {
                display: flex;
                align-items: center;
                gap: 0.5rem;
            }

            .add-action-btn {
                margin-top: 1rem;
                padding: 0.5rem;
                background: var(--secondary-color);
                color: white;
                border: none;
                border-radius: 5px;
                cursor: pointer;
            }

            .reflection-journal {
                background: #fff;
                padding: 1.5rem;
                border-radius: 10px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            }

            .journal-prompts {
                position: relative;
            }

            .prompt {
                display: none;
            }

            .prompt.active {
                display: block;
            }

            .prompt-nav {
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 1rem;
                margin-top: 1rem;
            }

            .commitment-section {
                background: #fff;
                padding: 1.5rem;
                border-radius: 10px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            }

            .commitment-form {
                margin-bottom: 1.5rem;
            }

            .commitment-input {
                width: 100%;
                padding: 0.8rem;
                margin: 0.5rem 0;
                border: 1px solid #ddd;
                border-radius: 5px;
            }

            .save-commitment {
                background: var(--primary-color);
                color: white;
                border: none;
                padding: 0.8rem 1.5rem;
                border-radius: 5px;
                cursor: pointer;
            }

            /* Dark mode styles */
            .dark-mode .reflection-card,
            .dark-mode .reflection-journal,
            .dark-mode .commitment-section {
                background: var(--dark-mode-bg);
                color: var(--dark-mode-text);
            }

            .dark-mode .commitment-input {
                background: #34495e;
                border-color: #486581;
                color: var(--dark-mode-text);
            }

            /* Add these styles to your existing <styl> section */
            .question-grid {
                display: flex;
                flex-direction: column;
                gap: 20px;
                margin-bottom: 30px;
            }

            /* Quiz layout styles */
            .options-matrix {
                display: grid;
                grid-template-columns: 1fr; /* Single column on desktop */
                gap: 10px;
                margin-top: 15px;
                width: 100%;
            }

            .option-box {
                position: relative;
                background: #f8f9fa;
                border: 2px solid #e9ecef;
                border-radius: 8px;
                padding: 12px;
                cursor: pointer;
                transition: all 0.3s ease;
                width: 100%;
                box-sizing: border-box;
            }

            .option-box label {
                display: block;
                width: 100%;
                padding: 8px;
                border-radius: 6px;
                font-size: 14px;
                box-sizing: border-box;
                text-align: center; /* Center align text */
            }

            /* Mobile responsive adjustments - maintain 2 columns */
            @media (max-width: 768px) {
                .options-matrix {
                    gap: 10px; /* Reduce gap on mobile */
                }

                .option-box {
                    padding: 8px;
                }

                .option-box label {
                    padding: 6px;
                    min-height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    text-align: center;
                    font-size: 13px;
                }
            }

            /* Very small screens */
            @media (max-width: 480px) {
                .options-matrix {
                    gap: 8px;
                }

                .option-box {
                    padding: 6px;
                }
            }

            .dark-mode .option-box {
                background: #34495e;
                border-color: #486581;
            }

            .dark-mode .option-box:hover {
                background: #2c3e50;
            }

            /* Responsive layout */
            @media (max-width: 768px) {
                .options-matrix {
                    grid-template-columns: repeat(2, 1fr);
                }

                .quiz-container {
                    max-width: 100%;
                    padding: 0 15px;
                }

                .question {
                    padding: 15px;
                }

                .question {
                    margin-bottom: 30px;
                }
            }

            /* Single column for very small screens */
            @media (max-width: 480px) {
                .options-matrix {
                    grid-template-columns: repeat(2, 1fr);
                }
            }

            /* Enhanced accessibility for touch devices */
            @media (hover: none) {
                .option-box {
                    padding: 15px;
                }

                .option-box label {
                    min-height: 44px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
            }

            /* Quiz layout styles */
            .quiz-container {
                max-width: 800px;
                margin: 0 auto;
                padding: 0 15px;
            }

            .question {
                width: 100%;
                margin-bottom: 20px;
                padding: 15px;
                background: #f8f9fa;
                border-radius: 8px;
                box-sizing: border-box;
            }

            .options-matrix {
                display: grid;
                grid-template-columns: 1fr;
                gap: 10px;
                margin-top: 15px;
                width: 100%;
            }

            .option-box {
                position: relative;
                background: #f8f9fa;
                border: 2px solid #e9ecef;
                border-radius: 8px;
                padding: 12px;
                cursor: pointer;
                transition: all 0.3s ease;
                width: 100%;
                box-sizing: border-box;
            }

            .option-box label {
                display: block;
                width: 100%;
                padding: 8px;
                border-radius: 6px;
                font-size: 14px;
                box-sizing: border-box;
            }

            /* Responsive adjustments */
            @media (max-width: 768px) {
                .options-matrix {
                    grid-template-columns: repeat(2, 1fr);
                }

                .option-box {
                    min-width: unset;
                    padding: 8px;
                }

                .option-box label {
                    padding: 6px;
                    min-height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    text-align: center;
                    font-size: 13px;
                }
            }

            @media (max-width: 480px) {
                .quiz-container {
                    padding: 0 10px;
                }

                .options-matrix {
                    gap: 8px;
                }

                .question {
                    padding: 12px;
                }
            }

            /* Quiz layout styles */
            .quiz-container {
                max-width: 800px;
                margin: 0 auto;
                padding: 0 15px;
                box-sizing: border-box;
            }

            .question {
                background: #f8f9fa;
                border-radius: 8px;
                padding: 15px;
                margin-bottom: 20px;
                width: 100%;
                box-sizing: border-box;
            }

            .options-matrix {
                display: grid;
                grid-template-columns: 1fr; /* Single column on desktop */
                gap: 10px;
                margin-top: 15px;
                width: 100%;
            }

            .option-box {
                position: relative;
                background: #f8f9fa;
                border: 2px solid #e9ecef;
                border-radius: 8px;
                padding: 12px;
                cursor: pointer;
                transition: all 0.3s ease;
                width: 100%;
                box-sizing: border-box;
            }

            .option-box label {
                display: flex;
                align-items: center;
                justify-content: flex-start;
                width: 100%;
                padding: 8px;
                font-size: 14px;
                cursor: pointer;
            }

            /* Mobile styles */
            @media (max-width: 768px) {
                .options-matrix {
                    grid-template-columns: repeat(
                        2,
                        1fr
                    ); /* Two columns on mobile */
                }

                .option-box {
                    padding: 8px;
                }

                .option-box label {
                    padding: 6px;
                    min-height: 40px;
                    justify-content: center;
                    text-align: center;
                    font-size: 13px;
                }
            }

            /* Dark mode styles */
            .dark-mode .question {
                background: #34495e;
            }

            .dark-mode .option-box {
                background: #34495e;
                border-color: #486581;
            }

            .dark-mode .option-box:hover {
                background: #2c3e50;
            }

            /* Introduction Section Styles */
            #intro {
                position: relative;
                padding: 30px;
                background: linear-gradient(to bottom right, #ffffff, #f8f9fa);
                border-radius: 15px;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            }

            .memory-verse {
                background: #fff;
                padding: 25px;
                border-radius: 12px;
                margin: 30px 0;
                box-shadow: 0 3px 15px rgba(0, 0, 0, 0.05);
                border-left: 5px solid var(--primary-color);
                transition: transform 0.3s ease;
            }

            .memory-verse:hover {
                transform: translateY(-5px);
            }

            .memory-verse blockquote {
                font-size: 1.1em;
                line-height: 1.6;
                color: #2c3e50;
                font-style: italic;
                margin: 0;
                padding: 10px 0;
            }

            .aims-objectives {
                background: #fff;
                padding: 25px;
                border-radius: 12px;
                margin-top: 30px;
                box-shadow: 0 3px 15px rgba(0, 0, 0, 0.05);
            }

            .aims-objectives h3 {
                color: var(--primary-color);
                margin-bottom: 20px;
                font-size: 1.3em;
            }

            .aims-objectives p {
                margin: 15px 0;
                line-height: 1.6;
            }

            .aims-objectives strong {
                color: var(--secondary-color);
            }

            /* Dark mode styles */
            .dark-mode #intro {
                background: linear-gradient(to bottom right, #2c3e50, #34495e);
            }

            .dark-mode .memory-verse,
            .dark-mode .aims-objectives {
                background: #34495e;
                border-color: var(--primary-color);
            }

            .dark-mode .memory-verse blockquote {
                color: var(--dark-mode-text);
            }

            /* Animation for content */
            @keyframes slideInUp {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            #intro > * {
                animation: slideInUp 0.5s ease-out forwards;
            }

            #intro > *:nth-child(2) {
                animation-delay: 0.2s;
            }

            #intro > *:nth-child(3) {
                animation-delay: 0.4s;
            }

            /* Responsive adjustments */
            @media (max-width: 768px) {
                #intro {
                    padding: 20px;
                }

                .memory-verse,
                .aims-objectives {
                    padding: 20px;
                    margin: 20px 0;
                }
            }

            /* Additional decorative elements */
            .memory-verse::before {
                content: '"';
                position: absolute;
                left: -15px;
                top: 10px;
                font-size: 60px;
                color: var(--primary-color);
                opacity: 0.1;
            }

            .aims-objectives::after {
                content: '';
                position: absolute;
                right: 20px;
                bottom: 20px;
                width: 50px;
                height: 50px;
                background: var(--secondary-color);
                opacity: 0.1;
                border-radius: 50%;
            }

            /* Add to your existing styles */

            .quiz-results-container {
                animation: slideIn 0.5s ease-out;
            }

            .quiz-btn {
                padding: 10px 20px;
                border: none;
                border-radius: 5px;
                cursor: pointer;
                transition: all 0.3s ease;
                background: var(--primary-color);
                color: white;
            }

            .quiz-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }

            .performance-meter {
                transition: all 0.3s ease;
            }

            @keyframes slideIn {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .dark-mode .quiz-results-container {
                background: #34495e !important;
                color: var(--dark-mode-text);
            }

            .dark-mode .quiz-btn {
                background: var(--primary-color);
            }
        </style>
    </head>
    <body>
        <!-- Loading Screen -->
        <div class="loader">
            <div class="loader-content">
                <i class="fas fa-cross fa-3x"></i>
                <h2>Loading Sunday School Lesson...</h2>
            </div>
        </div>

        <!-- Theme Toggle -->
        <button
            class="theme-toggle"
            onclick="toggleTheme()"
            aria-label="Toggle theme"
        >
            <i class="fas fa-moon"></i>
        </button>

        <div class="container">
            <h1>The Real Christian Clothings - Part 8</h1>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress" id="lessonProgress"></div>
                </div>
                <span class="progress-text">0% Complete</span>
            </div>

            <!-- Tab Navigation -->
            <div class="tabs">
                <button class="tab-btn active" onclick="openTab('intro')">
                    Introduction
                </button>
                <button class="tab-btn" onclick="openTab('lesson')">
                    Lesson
                </button>
                <button class="tab-btn" onclick="openTab('application')">
                    Application
                </button>
                <button class="tab-btn" onclick="openTab('quiz')">Quiz</button>
                <button class="tab-btn" onclick="openTab('prayer')">
                    Prayer Points
                </button>
            </div>

            <!-- Tab Contents -->
            <div id="intro" class="tab-content active">
                <h2>Introduction</h2>
                <p>
                    In the previous lesson on this topic, a lot has been
                    revealed, required and desired but in all love is highly
                    placed above them. Since man is profit oriented like God, he
                    is expected to place more value on love. It is the reason
                    for creation, salvation, restoration and our existence.
                </p>

                <div class="memory-verse">
                    <h3>Memory Verse</h3>
                    <blockquote>
                        "A new commandment I give unto you, that ye love one
                        another; as I have loved you, that ye also love one
                        another" - John 13:34
                        <button
                            onclick="showBibleVersions('John 13:34')"
                            class="verse-btn"
                        >
                            Read in Different Versions
                        </button>
                    </blockquote>
                </div>

                <div class="aims-objectives">
                    <h3>Aims and Objectives</h3>
                    <p>
                        <strong>Aim:</strong> To draw the attention of
                        Christians to the need for change of character.
                    </p>
                    <p>
                        <strong>Objective:</strong> That the child of God may be
                        known by deeds and not by words.
                    </p>
                </div>
            </div>

            <div id="lesson" class="tab-content">
                <h2>Lesson Content</h2>
                <div class="main-text">
                    <h3>Text: Colossians 3:12-14</h3>
                    <button
                        onclick="showBibleVersions('Colossians 3:12-14')"
                        class="verse-btn"
                    >
                        Read Passage
                    </button>
                </div>

                <div class="lesson-section">
                    <h3>Bowels of Love</h3>
                    <p>
                        Love is the affectionate feeling that motivates one to
                        favor another and to do something beneficial. Love is
                        the ultimate virtue that is responsible for salvation
                        and Christian labour. This attire is to be put on as a
                        garment on the spirit of the man as a finishing touch of
                        a well-dressed Christian. Love is the embodiment of the
                        other virtues and it's responsible for perfection.
                    </p>

                    <h3>Why Love is Necessary?</h3>
                    <ol class="scripture-list">
                        <li>
                            Love is responsible for gifts
                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('John 3:16')"
                                    class="verse-btn"
                                >
                                    John 3:16
                                </button>
                                <button
                                    onclick="showBibleVersions('Romans 5:8')"
                                    class="verse-btn"
                                >
                                    Romans 5:8
                                </button>
                            </div>
                        </li>
                        <li>
                            Love covers sin
                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Proverbs 10:12')"
                                    class="verse-btn"
                                >
                                    Proverbs 10:12
                                </button>
                                <button
                                    onclick="showBibleVersions('Proverbs 17:9')"
                                    class="verse-btn"
                                >
                                    Proverbs 17:9
                                </button>
                            </div>
                        </li>
                        <li>
                            If you love God you will serve him as necessary
                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Matthew 22:39')"
                                    class="verse-btn"
                                >
                                    Matthew 22:39
                                </button>
                            </div>
                        </li>
                        <li>
                            If you love your neighbour as yourself, you will
                            consider him
                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Matthew 22:39-40')"
                                    class="verse-btn"
                                >
                                    Matthew 22:39-40
                                </button>
                            </div>
                        </li>
                        <li>
                            It is a proof of your sonship to God
                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('1 John 4:7')"
                                    class="verse-btn"
                                >
                                    1 John 4:7
                                </button>
                            </div>
                        </li>
                        <li>
                            Without love, every other thing amounts to nothing
                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('1 Corinthians 13:1-3')"
                                    class="verse-btn"
                                >
                                    1 Corinthians 13:1-3
                                </button>
                            </div>
                        </li>
                    </ol>
                </div>
            </div>

            <div id="application" class="tab-content">
                <h2>Personal Application</h2>
                <div class="reflection-section">
                    <div class="interactive-cards">
                        <div class="reflection-card">
                            <h3>Daily Love Check</h3>
                            <div class="love-meter">
                                <p>
                                    Rate how well you demonstrated God's love
                                    today:
                                </p>
                                <div class="rating-container">
                                    <input
                                        type="range"
                                        min="1"
                                        max="10"
                                        value="5"
                                        class="love-slider"
                                        id="loveRating"
                                    />
                                    <span class="rating-value">5/10</span>
                                </div>
                                <div class="rating-feedback"></div>
                            </div>
                        </div>

                        <div class="reflection-card">
                            <h3>Love Action Plan</h3>
                            <div class="action-items">
                                <div class="action-item">
                                    <input type="checkbox" id="action1" />
                                    <label for="action1"
                                        >Show kindness to someone who hurt
                                        me</label
                                    >
                                </div>
                                <div class="action-item">
                                    <input type="checkbox" id="action2" />
                                    <label for="action2"
                                        >Help someone in need without expecting
                                        return</label
                                    >
                                </div>
                                <div class="action-item">
                                    <input type="checkbox" id="action3" />
                                    <label for="action3"
                                        >Share encouragement with three
                                        people</label
                                    >
                                </div>
                                <button class="add-action-btn">
                                    + Add Custom Action
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="reflection-journal">
                        <h3>Reflection Journal</h3>
                        <div class="journal-prompts">
                            <div class="prompt active">
                                <p>How did you demonstrate God's love today?</p>
                                <textarea
                                    class="reflection-input"
                                    placeholder="Write your thoughts here..."
                                ></textarea>
                            </div>
                            <div class="prompt-nav">
                                <button class="prev-prompt" disabled>
                                    <i class="fas fa-arrow-left"></i>
                                </button>
                                <span class="prompt-counter">1/3</span>
                                <button class="next-prompt">
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="commitment-section">
                        <h3>Love Commitment</h3>
                        <div class="commitment-form">
                            <p>I commit to showing God's love by:</p>
                            <input
                                type="text"
                                class="commitment-input"
                                placeholder="Type your commitment here..."
                            />
                            <button class="save-commitment">
                                Make Commitment
                            </button>
                        </div>
                        <div class="saved-commitments">
                            <h4>Previous Commitments</h4>
                            <ul class="commitment-list"></ul>
                        </div>
                    </div>
                </div>
            </div>

            <div id="quiz" class="tab-content">
                <h2>Knowledge Check</h2>
                <div class="quiz-container">
                    <div id="quiz-questions" class="question-grid">
                        <div class="question">
                            <p>1. What is the memory verse for this lesson?</p>
                            <div class="options-matrix">
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q1"
                                        value="a"
                                        id="q1a"
                                    />
                                    <label for="q1a">Matthew 22:39</label>
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q1"
                                        value="b"
                                        id="q1b"
                                    />
                                    <label for="q1b">John 13:34</label>
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q1"
                                        value="c"
                                        id="q1c"
                                    />
                                    <label for="q1c">1 John 4:7</label>
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q1"
                                        value="d"
                                        id="q1d"
                                    />
                                    <label for="q1d">Romans 5:8</label>
                                </div>
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                2. Why is love necessary according to the
                                lesson?
                            </p>
                            <div class="options-matrix">
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q2"
                                        value="a"
                                        id="q2a"
                                    />
                                    <label for="q2a"
                                        >It brings material prosperity</label
                                    >
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q2"
                                        value="b"
                                        id="q2b"
                                    />
                                    <label for="q2b"
                                        >It is responsible for gifts and covers
                                        sin</label
                                    >
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q2"
                                        value="c"
                                        id="q2c"
                                    />
                                    <label for="q2c">It makes us popular</label>
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q2"
                                        value="d"
                                        id="q2d"
                                    />
                                    <label for="q2d"
                                        >It brings worldly success</label
                                    >
                                </div>
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                3. What does love being the "bowels of mercy"
                                mean?
                            </p>
                            <div class="options-matrix">
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q3"
                                        value="a"
                                        id="q3a"
                                    />
                                    <label for="q3a">Love is weak</label>
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q3"
                                        value="b"
                                        id="q3b"
                                    />
                                    <label for="q3b">Love is temporary</label>
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q3"
                                        value="c"
                                        id="q3c"
                                    />
                                    <label for="q3c"
                                        >Deepest expression of compassion</label
                                    >
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q3"
                                        value="d"
                                        id="q3d"
                                    />
                                    <label for="q3d">Love is superficial</label>
                                </div>
                            </div>
                        </div>

                        <div class="question">
                            <p>4. According to the lesson, love is:</p>
                            <div class="options-matrix">
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q4"
                                        value="a"
                                        id="q4a"
                                    />
                                    <label for="q4a"
                                        >Optional for Christians</label
                                    >
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q4"
                                        value="b"
                                        id="q4b"
                                    />
                                    <label for="q4b"
                                        >The bond of perfectness</label
                                    >
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q4"
                                        value="c"
                                        id="q4c"
                                    />
                                    <label for="q4c"
                                        >Only for special occasions</label
                                    >
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q4"
                                        value="d"
                                        id="q4d"
                                    />
                                    <label for="q4d">A sign of weakness</label>
                                </div>
                            </div>
                        </div>

                        <div class="question">
                            <p>5. What proves our sonship to God?</p>
                            <div class="options-matrix">
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q5"
                                        value="a"
                                        id="q5a"
                                    />
                                    <label for="q5a">Church attendance</label>
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q5"
                                        value="b"
                                        id="q5b"
                                    />
                                    <label for="q5b">Love for others</label>
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q5"
                                        value="c"
                                        id="q5c"
                                    />
                                    <label for="q5c">Religious knowledge</label>
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q5"
                                        value="d"
                                        id="q5d"
                                    />
                                    <label for="q5d">Material prosperity</label>
                                </div>
                            </div>
                        </div>

                        <div class="question">
                            <p>6. What happens when love is absent?</p>
                            <div class="options-matrix">
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q6"
                                        value="a"
                                        id="q6a"
                                    />
                                    <label for="q6a">Nothing changes</label>
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q6"
                                        value="b"
                                        id="q6b"
                                    />
                                    <label for="q6b"
                                        >Everything amounts to nothing</label
                                    >
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q6"
                                        value="c"
                                        id="q6c"
                                    />
                                    <label for="q6c"
                                        >We become more successful</label
                                    >
                                </div>
                                <div class="option-box">
                                    <input
                                        type="radio"
                                        name="q6"
                                        value="d"
                                        id="q6d"
                                    />
                                    <label for="q6d"
                                        >We gain more friends</label
                                    >
                                </div>
                            </div>
                        </div>
                    </div>
                    <button onclick="checkQuiz()" class="quiz-submit">
                        Submit Answers
                    </button>
                    <div id="quiz-results"></div>
                </div>
            </div>

            <div id="prayer" class="tab-content">
                <h2>Prayer Points</h2>
                <div class="prayer-points">
                    <ol>
                        <li>Father, help me to love like You love</li>
                        <li>
                            Lord, remove every barrier to loving others in my
                            heart
                        </li>
                        <li>
                            Help me to demonstrate practical love to those
                            around me
                        </li>
                        <li>
                            Give me the grace to love even when it's difficult
                        </li>
                        <li>Let Your love flow through me to touch others</li>
                    </ol>
                </div>
            </div>

            <!-- Add this modal for Bible versions -->
            <div id="verse-modal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2 id="verse-reference"></h2>
                    <div class="version-tab">
                        <button
                            class="version-btn active"
                            onclick="showVersion('KJV')"
                        >
                            KJV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('NKJV')"
                        >
                            NKJV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('NIV')"
                        >
                            NIV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('ESV')"
                        >
                            ESV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('AMP')"
                        >
                            AMP
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('NLT')"
                        >
                            NLT
                        </button>
                    </div>
                    <div id="verse-text"></div>
                </div>
            </div>
        </div>

        <div class="fab" onclick="toggleQuickNav()">
            <i class="fas fa-compass"></i>
        </div>

        <div class="quick-nav" id="quickNav">
            <button onclick="scrollToTop()">
                <i class="fas fa-arrow-up"></i> Top
            </button>
            <button onclick="saveProgress()">
                <i class="fas fa-save"></i> Save
            </button>
            <button onclick="shareLesson()">
                <i class="fas fa-share"></i> Share
            </button>
        </div>

        <!-- Replace your existing font controls with this -->
        <div class="font-controls">
            <button
                onclick="adjustFontSize(-1)"
                aria-label="Decrease font size"
            >
                <i class="fas fa-minus"></i>
            </button>
            <span class="font-size">16px</span>
            <button onclick="adjustFontSize(1)" aria-label="Increase font size">
                <i class="fas fa-plus"></i>
            </button>
            <select
                class="font-family-select"
                onchange="changeFont(this.value)"
            >
                <option value="'Segoe UI', sans-serif">Default</option>
                <option value="Arial, sans-serif">Arial</option>
                <option value="Georgia, serif">Georgia</option>
                <option value="'Times New Roman', serif">
                    Times New Roman
                </option>
                <option value="'Comic Sans MS', cursive">Comic Sans</option>
            </select>
        </div>
        <script src="script.js"></script>
        <script>
            // Quiz functionality enhancement
            function checkQuiz() {
                // Correct answers with explanations
                const quizData = {
                    q1: {
                        correct: 'b',
                        explanation: 'John 13:34 is the memory verse where Jesus gives a new commandment about loving one another.',
                        points: 5
                    },
                    q2: {
                        correct: 'b',
                        explanation: 'Love is responsible for gifts (John 3:16) and covers sin (Proverbs 10:12).',
                        points: 5
                    },
                    q3: {
                        correct: 'c',
                        explanation: '"Bowels of mercy" refers to the deepest, most heartfelt expression of compassion.',
                        points: 5
                    },
                    q4: {
                        correct: 'b',
                        explanation: 'Love is described as the bond of perfectness, binding all virtues together.',
                        points: 5
                    },
                    q5: {
                        correct: 'b',
                        explanation: '1 John 4:7 teaches that love is evidence of being born of God.',
                        points: 5
                    },
                    q6: {
                        correct: 'b',
                        explanation: '1 Corinthians 13:1-3 shows that without love, everything else amounts to nothing.',
                        points: 5
                    }
                };

                let score = 0;
                let maxScore = 0;
                let detailedFeedback = '';
                let incorrectAnswers = [];

                // Check each answer and build feedback
                for (let question in quizData) {
                    const selected = document.querySelector(`input[name="${question}"]:checked`);
                    maxScore += quizData[question].points;

                    if (selected) {
                        const isCorrect = selected.value === quizData[question].correct;
                        const questionElement = selected.closest('.question');
                        const questionNumber = question.replace('q', '');

                        if (isCorrect) {
                            score += quizData[question].points;
                            questionElement.style.borderLeft = '4px solid #28a745';
                        } else {
                            questionElement.style.borderLeft = '4px solid #dc3545';
                            incorrectAnswers.push(questionNumber);
                        }

                        // Add visual feedback to options
                        questionElement.querySelectorAll('.option-box').forEach(box => {
                            const radio = box.querySelector('input[type="radio"]');
                            if (radio.value === quizData[question].correct) {
                                box.style.backgroundColor = '#d4edda';
                            } else if (radio.checked) {
                                box.style.backgroundColor = radio.value === quizData[question].correct ? '#d4edda' : '#f8d7da';
                            }
                        });
                    }
                }

                // Calculate percentage and prepare feedback
                const percentage = Math.round((score / maxScore) * 100);
                
                // Generate performance analysis
                const performanceAnalysis = getPerformanceAnalysis(percentage);

                // Prepare detailed feedback HTML
                const feedbackHTML = `
                    <div class="quiz-results-container" style="padding: 20px; border-radius: 12px; margin-top: 20px; 
                         background: ${percentage >= 70 ? '#d4edda' : '#f8d7da'};">
                        <h3 style="color: ${percentage >= 70 ? '#155724' : '#721c24'}">Quiz Results</h3>
                        
                        <div class="score-display" style="font-size: 1.2em; margin: 15px 0;">
                            <strong>Score: ${score}/${maxScore} (${percentage}%)</strong>
                        </div>

                        <div class="performance-meter" style="margin: 15px 0;">
                            <div class="progress-bar" style="height: 20px; background: #e9ecef; border-radius: 10px; overflow: hidden;">
                                <div style="width: ${percentage}%; height: 100%; background: ${
                                    percentage >= 80 ? '#28a745' : 
                                    percentage >= 60 ? '#ffc107' : 
                                    '#dc3545'
                                }; transition: width 1s ease-in-out;"></div>
                            </div>
                        </div>

                        <div class="performance-analysis" style="margin: 15px 0;">
                            <h4>Performance Analysis:</h4>
                            ${performanceAnalysis}
                        </div>

                        ${incorrectAnswers.length > 0 ? `
                            <div class="improvement-areas" style="margin: 15px 0;">
                                <h4>Areas for Review:</h4>
                                <ul>
                                    ${incorrectAnswers.map(num => `
                                        <li>Question ${num}: ${quizData['q' + num].explanation}</li>
                                    `).join('')}
                                </ul>
                            </div>
                        ` : ''}

                        <div class="action-buttons" style="margin-top: 20px;">
                            <button onclick="retakeQuiz()" class="quiz-btn" style="margin-right: 10px;">
                                Retake Quiz
                            </button>
                            <button onclick="reviewLesson()" class="quiz-btn">
                                Review Lesson
                            </button>
                        </div>
                    </div>
                `;

                // Display results
                const resultsDiv = document.getElementById('quiz-results');
                resultsDiv.innerHTML = feedbackHTML;
                resultsDiv.style.display = 'block';

                // Save results to localStorage
                saveQuizResults(score, maxScore, percentage, incorrectAnswers);

                // Smooth scroll to results
                resultsDiv.scrollIntoView({ behavior: 'smooth' });
            }

            function getPerformanceAnalysis(percentage) {
                if (percentage >= 90) {
                    return `<p style="color: #155724">Excellent! You have a thorough understanding of the lesson's key concepts about love.</p>`;
                } else if (percentage >= 70) {
                    return `<p style="color: #856404">Good work! You grasp most concepts, but there's still room for deeper understanding.</p>`;
                } else {
                    return `<p style="color: #721c24">You might benefit from reviewing the lesson material, focusing on the areas highlighted below.</p>`;
                }
            }

            function saveQuizResults(score, maxScore, percentage, incorrectAnswers) {
                const results = {
                    score,
                    maxScore,
                    percentage,
                    incorrectAnswers,
                    timestamp: new Date().toISOString()
                };
                
                let history = JSON.parse(localStorage.getItem('quizHistory') || '[]');
                history.push(results);
                localStorage.setItem('quizHistory', JSON.stringify(history));
            }

            function retakeQuiz() {
                // Reset all selections and styling
                document.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.checked = false;
                });
                
                document.querySelectorAll('.question').forEach(question => {
                    question.style.borderLeft = 'none';
                });
                
                document.querySelectorAll('.option-box').forEach(box => {
                    box.style.backgroundColor = '';
                });
                
                document.getElementById('quiz-results').style.display = 'none';
            }

            function reviewLesson() {
                // Switch to lesson tab
                openTab('lesson');
            }
        </script>
    </body>
</html>
